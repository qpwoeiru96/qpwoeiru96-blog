<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Tag: sphinx | Yet Another Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Yet Another Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Yet Another Blog">
<meta property="og:url" content="http://blog.sou.la/tags/sphinx/">
<meta property="og:site_name" content="Yet Another Blog">
<meta property="og:description" content="Yet Another Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Yet Another Blog">
<meta name="twitter:description" content="Yet Another Blog">

  
    <link rel="alternative" href="/atom.xml" title="Yet Another Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Yet Another Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Write by Q</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="https://github.com/qpwoeiru96">Github</a>
        
          <a class="main-nav-link" href="http://weibo.com/qpwoeiru96">Weibo</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://blog.sou.la"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-sphinx-1ngram" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/06/sphinx-1ngram/" class="article-date">
  <time datetime="2014-11-06T03:03:00.000Z" itemprop="datePublished">11月 6 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/06/sphinx-1ngram/">Sphinx 一元切分</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最佳东方的找工作用的是 Sphinx 进行分词的，但是限于特定行业的问题，所以有时候总是分的不准，比如一家名叫 佛山|陶花园|艺宿馆|酒店|管理|有限公司 这个问题就大了。所以经常接到这样的Bug反馈单，直到最近实在是不胜其扰。准备将分词算法改成用一元切分了。一元切分的优点是匹配精度高，无需预先准备任何词库，但是缺点也非常明显，因为使用的是倒排索引所以一旦数据量太多很容易造成索引过大而导致效率不高，不过幸好我们这边搜索的是公司用户名，再大也大不到哪里去。</p>
<p>改的很简单, 参照了 <a href="http://www.coreseek.cn/products-install/ngram_len_cjk/" target="_blank" rel="external">一元切分模式核心配置</a>:</p>
<p>以下是原始的配置：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">index job_search-company_name</div><div class="line">{</div><div class="line"></div><div class="line">    <span class="variable">source            =</span> job_search-company_name</div><div class="line">    <span class="variable">path              =</span> /home/data/coreseek/job_search-company_name</div><div class="line">    <span class="variable">docinfo           =</span> extern</div><div class="line">    <span class="variable">mlock             =</span> <span class="number">0</span></div><div class="line">    <span class="variable">morphology        =</span> none</div><div class="line">    <span class="variable">min_word_len      =</span> <span class="number">1</span></div><div class="line">    <span class="variable">html_strip        =</span> <span class="number">0</span></div><div class="line">    <span class="variable">charset_dictpath  =</span> /usr/local/mmseg/etc/ <span class="comment">#BSD、Linux环境下设置，/符号结尾</span></div><div class="line">    <span class="comment">#charset_dictpath = etc/</span></div><div class="line">    <span class="variable">charset_type      =</span> zh_cn.utf-<span class="number">8</span></div><div class="line">}</div></pre></td></tr></table></figure>

<p>以下是修改之后的配置：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line">index job_search<span class="attribute">-company_name</span></div><div class="line">{</div><div class="line"></div><div class="line">    source            <span class="subst">=</span> job_search<span class="attribute">-company_name</span></div><div class="line">    path              <span class="subst">=</span> /home/<span class="built_in">data</span>/coreseek/job_search<span class="attribute">-company_name</span></div><div class="line">    docinfo           <span class="subst">=</span> extern</div><div class="line">    mlock             <span class="subst">=</span> <span class="number">0</span></div><div class="line">    morphology        <span class="subst">=</span> <span class="literal">none</span></div><div class="line">    min_word_len      <span class="subst">=</span> <span class="number">1</span></div><div class="line">    html_strip        <span class="subst">=</span> <span class="number">0</span></div><div class="line">    <span class="variable">#charset_dictpath</span>  <span class="subst">=</span> /usr/<span class="built_in">local</span>/mmseg/etc<span class="subst">/</span> <span class="variable">#BSD</span>、Linux环境下设置，<span class="subst">/</span>符号结尾</div><div class="line">    <span class="variable">#charset_dictpath</span> <span class="subst">=</span> etc<span class="subst">/</span></div><div class="line">    charset_type<span class="subst">=</span>utf<span class="subst">-</span><span class="number">8</span></div><div class="line">    ngram_len<span class="subst">=</span><span class="number">1</span>        </div><div class="line">    ngram_chars <span class="subst">=</span> U<span class="subst">+</span><span class="number">4E00</span><span class="built_in">..</span>U<span class="subst">+</span><span class="number">9</span>FBF, U<span class="subst">+</span><span class="number">3400.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">4</span>DBF, U<span class="subst">+</span><span class="number">20000.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">2</span>A6DF, U<span class="subst">+</span>F900<span class="built_in">..</span>U<span class="subst">+</span>FAFF,<span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">2</span>F800<span class="built_in">..</span>U<span class="subst">+</span><span class="number">2</span>FA1F, U<span class="subst">+</span><span class="number">2E80</span><span class="built_in">..</span>U<span class="subst">+</span><span class="number">2</span>EFF, U<span class="subst">+</span><span class="number">2</span>F00<span class="built_in">..</span>U<span class="subst">+</span><span class="number">2</span>FDF, U<span class="subst">+</span><span class="number">3100.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">312</span>F, U<span class="subst">+</span><span class="number">31</span>A0<span class="built_in">..</span>U<span class="subst">+</span><span class="number">31</span>BF,<span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">3040.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">309</span>F, U<span class="subst">+</span><span class="number">30</span>A0<span class="built_in">..</span>U<span class="subst">+</span><span class="number">30</span>FF, U<span class="subst">+</span><span class="number">31</span>F0<span class="built_in">..</span>U<span class="subst">+</span><span class="number">31</span>FF, U<span class="subst">+</span>AC00<span class="built_in">..</span>U<span class="subst">+</span>D7AF, U<span class="subst">+</span><span class="number">1100.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">11</span>FF,<span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">3130.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">318</span>F, U<span class="subst">+</span>A000<span class="built_in">..</span>U<span class="subst">+</span>A48F, U<span class="subst">+</span>A490<span class="built_in">..</span>U<span class="subst">+</span>A4CF</div><div class="line">    charset_table <span class="subst">=</span> U<span class="subst">+</span>FF10<span class="built_in">..</span>U<span class="subst">+</span>FF19<span class="subst">-&gt;</span><span class="number">0.</span><span class="number">.9</span>, <span class="number">0.</span><span class="number">.9</span>, U<span class="subst">+</span>FF41<span class="built_in">..</span>U<span class="subst">+</span>FF5A<span class="subst">-&gt;</span>a<span class="built_in">..</span>z, U<span class="subst">+</span>FF21<span class="built_in">..</span>U<span class="subst">+</span>FF3A<span class="subst">-&gt;</span>a<span class="built_in">..</span>z,<span class="subst">\</span></div><div class="line">        A<span class="built_in">..</span>Z<span class="subst">-&gt;</span>a<span class="built_in">..</span>z, a<span class="built_in">..</span>z, U<span class="subst">+</span><span class="number">0149</span>, U<span class="subst">+</span><span class="number">017</span>F, U<span class="subst">+</span><span class="number">0138</span>, U<span class="subst">+</span><span class="number">00</span>DF, U<span class="subst">+</span><span class="number">00</span>FF, U<span class="subst">+</span><span class="number">00</span>C0<span class="built_in">..</span>U<span class="subst">+</span><span class="number">00</span>D6<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">00E0</span><span class="built_in">..</span>U<span class="subst">+</span><span class="number">00</span>F6,<span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">00E0</span><span class="built_in">..</span>U<span class="subst">+</span><span class="number">00</span>F6, U<span class="subst">+</span><span class="number">00</span>D8<span class="built_in">..</span>U<span class="subst">+</span><span class="number">00</span>DE<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">00</span>F8<span class="built_in">..</span>U<span class="subst">+</span><span class="number">00</span>FE, U<span class="subst">+</span><span class="number">00</span>F8<span class="built_in">..</span>U<span class="subst">+</span><span class="number">00</span>FE, U<span class="subst">+</span><span class="number">0100</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0101</span>, U<span class="subst">+</span><span class="number">0101</span>,<span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0102</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0103</span>, U<span class="subst">+</span><span class="number">0103</span>, U<span class="subst">+</span><span class="number">0104</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0105</span>, U<span class="subst">+</span><span class="number">0105</span>, U<span class="subst">+</span><span class="number">0106</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0107</span>, U<span class="subst">+</span><span class="number">0107</span>, U<span class="subst">+</span><span class="number">0108</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0109</span>,<span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0109</span>, U<span class="subst">+</span><span class="number">010</span>A<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">010</span>B, U<span class="subst">+</span><span class="number">010</span>B, U<span class="subst">+</span><span class="number">010</span>C<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">010</span>D, U<span class="subst">+</span><span class="number">010</span>D, U<span class="subst">+</span><span class="number">010</span>E<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">010</span>F, U<span class="subst">+</span><span class="number">010</span>F,<span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0110</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0111</span>, U<span class="subst">+</span><span class="number">0111</span>, U<span class="subst">+</span><span class="number">0112</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0113</span>, U<span class="subst">+</span><span class="number">0113</span>, U<span class="subst">+</span><span class="number">0114</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0115</span>, U<span class="subst">+</span><span class="number">0115</span>, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0116</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0117</span>,U<span class="subst">+</span><span class="number">0117</span>, U<span class="subst">+</span><span class="number">0118</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0119</span>, U<span class="subst">+</span><span class="number">0119</span>, U<span class="subst">+</span><span class="number">011</span>A<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">011</span>B, U<span class="subst">+</span><span class="number">011</span>B, U<span class="subst">+</span><span class="number">011</span>C<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">011</span>D,<span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">011</span>D,U<span class="subst">+</span><span class="number">011</span>E<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">011</span>F, U<span class="subst">+</span><span class="number">011</span>F, U<span class="subst">+</span><span class="number">0130</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0131</span>, U<span class="subst">+</span><span class="number">0131</span>, U<span class="subst">+</span><span class="number">0132</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0133</span>, U<span class="subst">+</span><span class="number">0133</span>, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0134</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0135</span>,U<span class="subst">+</span><span class="number">0135</span>, U<span class="subst">+</span><span class="number">0136</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0137</span>, U<span class="subst">+</span><span class="number">0137</span>, U<span class="subst">+</span><span class="number">0139</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">013</span>A, U<span class="subst">+</span><span class="number">013</span>A, U<span class="subst">+</span><span class="number">013</span>B<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">013</span>C, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">013</span>C,U<span class="subst">+</span><span class="number">013</span>D<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">013</span>E, U<span class="subst">+</span><span class="number">013</span>E, U<span class="subst">+</span><span class="number">013</span>F<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0140</span>, U<span class="subst">+</span><span class="number">0140</span>, U<span class="subst">+</span><span class="number">0141</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0142</span>, U<span class="subst">+</span><span class="number">0142</span>, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0143</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0144</span>,U<span class="subst">+</span><span class="number">0144</span>, U<span class="subst">+</span><span class="number">0145</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0146</span>, U<span class="subst">+</span><span class="number">0146</span>, U<span class="subst">+</span><span class="number">0147</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0148</span>, U<span class="subst">+</span><span class="number">0148</span>, U<span class="subst">+</span><span class="number">014</span>A<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">014</span>B, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">014</span>B,U<span class="subst">+</span><span class="number">014</span>C<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">014</span>D, U<span class="subst">+</span><span class="number">014</span>D, U<span class="subst">+</span><span class="number">014</span>E<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">014</span>F, U<span class="subst">+</span><span class="number">014</span>F, U<span class="subst">+</span><span class="number">0150</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0151</span>, U<span class="subst">+</span><span class="number">0151</span>, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0152</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0153</span>,U<span class="subst">+</span><span class="number">0153</span>, U<span class="subst">+</span><span class="number">0154</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0155</span>, U<span class="subst">+</span><span class="number">0155</span>, U<span class="subst">+</span><span class="number">0156</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0157</span>, U<span class="subst">+</span><span class="number">0157</span>, U<span class="subst">+</span><span class="number">0158</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0159</span>,<span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0159</span>,U<span class="subst">+</span><span class="number">015</span>A<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">015</span>B, U<span class="subst">+</span><span class="number">015</span>B, U<span class="subst">+</span><span class="number">015</span>C<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">015</span>D, U<span class="subst">+</span><span class="number">015</span>D, U<span class="subst">+</span><span class="number">015</span>E<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">015</span>F, U<span class="subst">+</span><span class="number">015</span>F, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0160</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0161</span>,U<span class="subst">+</span><span class="number">0161</span>, U<span class="subst">+</span><span class="number">0162</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0163</span>, U<span class="subst">+</span><span class="number">0163</span>, U<span class="subst">+</span><span class="number">0164</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0165</span>, U<span class="subst">+</span><span class="number">0165</span>, U<span class="subst">+</span><span class="number">0166</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0167</span>, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0167</span>,U<span class="subst">+</span><span class="number">0168</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0169</span>, U<span class="subst">+</span><span class="number">0169</span>, U<span class="subst">+</span><span class="number">016</span>A<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">016</span>B, U<span class="subst">+</span><span class="number">016</span>B, U<span class="subst">+</span><span class="number">016</span>C<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">016</span>D, U<span class="subst">+</span><span class="number">016</span>D, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">016</span>E<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">016</span>F,U<span class="subst">+</span><span class="number">016</span>F, U<span class="subst">+</span><span class="number">0170</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0171</span>, U<span class="subst">+</span><span class="number">0171</span>, U<span class="subst">+</span><span class="number">0172</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0173</span>, U<span class="subst">+</span><span class="number">0173</span>, U<span class="subst">+</span><span class="number">0174</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0175</span>,<span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0175</span>,U<span class="subst">+</span><span class="number">0176</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0177</span>, U<span class="subst">+</span><span class="number">0177</span>, U<span class="subst">+</span><span class="number">0178</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">00</span>FF, U<span class="subst">+</span><span class="number">00</span>FF, U<span class="subst">+</span><span class="number">0179</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">017</span>A, U<span class="subst">+</span><span class="number">017</span>A, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">017</span>B<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">017</span>C,U<span class="subst">+</span><span class="number">017</span>C, U<span class="subst">+</span><span class="number">017</span>D<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">017</span>E, U<span class="subst">+</span><span class="number">017</span>E, U<span class="subst">+</span><span class="number">0410.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">042</span>F<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0430.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">044</span>F, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0430.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">044</span>F,U<span class="subst">+</span><span class="number">05</span>D0<span class="built_in">..</span>U<span class="subst">+</span><span class="number">05</span>EA, U<span class="subst">+</span><span class="number">0531.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">0556</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">0561.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">0586</span>, U<span class="subst">+</span><span class="number">0561.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">0587</span>, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0621.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">063</span>A, U<span class="subst">+</span><span class="number">01</span>B9,U<span class="subst">+</span><span class="number">01</span>BF, U<span class="subst">+</span><span class="number">0640.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">064</span>A, U<span class="subst">+</span><span class="number">0660.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">0669</span>, U<span class="subst">+</span><span class="number">066</span>E, U<span class="subst">+</span><span class="number">066</span>F, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0671.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">06</span>D3, U<span class="subst">+</span><span class="number">06</span>F0<span class="built_in">..</span>U<span class="subst">+</span><span class="number">06</span>FF,U<span class="subst">+</span><span class="number">0904.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">0939</span>, U<span class="subst">+</span><span class="number">0958.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">095</span>F, U<span class="subst">+</span><span class="number">0960.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">0963</span>, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0966.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">096</span>F, U<span class="subst">+</span><span class="number">097</span>B<span class="built_in">..</span>U<span class="subst">+</span><span class="number">097</span>F,U<span class="subst">+</span><span class="number">0985.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">09</span>B9, U<span class="subst">+</span><span class="number">09</span>CE, U<span class="subst">+</span><span class="number">09</span>DC<span class="built_in">..</span>U<span class="subst">+</span><span class="number">09E3</span>, U<span class="subst">+</span><span class="number">09E6</span><span class="built_in">..</span>U<span class="subst">+</span><span class="number">09</span>EF, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0</span>A05<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>A39, U<span class="subst">+</span><span class="number">0</span>A59<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>A5E,U<span class="subst">+</span><span class="number">0</span>A66<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>A6F, U<span class="subst">+</span><span class="number">0</span>A85<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>AB9, U<span class="subst">+</span><span class="number">0</span>AE0<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>AE3, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0</span>AE6<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>AEF, U<span class="subst">+</span><span class="number">0</span>B05<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>B39,U<span class="subst">+</span><span class="number">0</span>B5C<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>B61, U<span class="subst">+</span><span class="number">0</span>B66<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>B6F, U<span class="subst">+</span><span class="number">0</span>B71, U<span class="subst">+</span><span class="number">0</span>B85<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>BB9, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0</span>BE6<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>BF2, U<span class="subst">+</span><span class="number">0</span>C05<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>C39,U<span class="subst">+</span><span class="number">0</span>C66<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>C6F, U<span class="subst">+</span><span class="number">0</span>C85<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>CB9, U<span class="subst">+</span><span class="number">0</span>CDE<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>CE3, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0</span>CE6<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>CEF, U<span class="subst">+</span><span class="number">0</span>D05<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>D39, U<span class="subst">+</span><span class="number">0</span>D60,U<span class="subst">+</span><span class="number">0</span>D61, U<span class="subst">+</span><span class="number">0</span>D66<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>D6F, U<span class="subst">+</span><span class="number">0</span>D85<span class="built_in">..</span>U<span class="subst">+</span><span class="number">0</span>DC6, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">1900.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">1938</span>, U<span class="subst">+</span><span class="number">1946.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">194</span>F, U<span class="subst">+</span>A800<span class="built_in">..</span>U<span class="subst">+</span>A805,U<span class="subst">+</span>A807<span class="built_in">..</span>U<span class="subst">+</span>A822, U<span class="subst">+</span><span class="number">0386</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>B1, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">03</span>AC<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>B1, U<span class="subst">+</span><span class="number">0388</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>B5, U<span class="subst">+</span><span class="number">03</span>AD<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>B5,U<span class="subst">+</span><span class="number">0389</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>B7, U<span class="subst">+</span><span class="number">03</span>AE<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>B7, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">038</span>A<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>B9, U<span class="subst">+</span><span class="number">0390</span><span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>B9, U<span class="subst">+</span><span class="number">03</span>AA<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>B9,U<span class="subst">+</span><span class="number">03</span>AF<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>B9, U<span class="subst">+</span><span class="number">03</span>CA<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>B9, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">038</span>C<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>BF, U<span class="subst">+</span><span class="number">03</span>CC<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>BF, U<span class="subst">+</span><span class="number">038</span>E<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>C5,U<span class="subst">+</span><span class="number">03</span>AB<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>C5, U<span class="subst">+</span><span class="number">03</span>B0<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>C5, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">03</span>CB<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>C5, U<span class="subst">+</span><span class="number">03</span>CD<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>C5, U<span class="subst">+</span><span class="number">038</span>F<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>C9,U<span class="subst">+</span><span class="number">03</span>CE<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>C9, U<span class="subst">+</span><span class="number">03</span>C2<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>C3, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">0391.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">03</span>A1<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>B1<span class="built_in">..</span>U<span class="subst">+</span><span class="number">03</span>C1,U<span class="subst">+</span><span class="number">03</span>A3<span class="built_in">..</span>U<span class="subst">+</span><span class="number">03</span>A9<span class="subst">-&gt;</span>U<span class="subst">+</span><span class="number">03</span>C3<span class="built_in">..</span>U<span class="subst">+</span><span class="number">03</span>C9, U<span class="subst">+</span><span class="number">03</span>B1<span class="built_in">..</span>U<span class="subst">+</span><span class="number">03</span>C1, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">03</span>C3<span class="built_in">..</span>U<span class="subst">+</span><span class="number">03</span>C9, U<span class="subst">+</span><span class="number">0E01</span><span class="built_in">..</span>U<span class="subst">+</span><span class="number">0E2</span>E,U<span class="subst">+</span><span class="number">0E30</span><span class="built_in">..</span>U<span class="subst">+</span><span class="number">0E3</span>A, U<span class="subst">+</span><span class="number">0E40</span><span class="built_in">..</span>U<span class="subst">+</span><span class="number">0E45</span>, U<span class="subst">+</span><span class="number">0E47</span>, U<span class="subst">+</span><span class="number">0E50</span><span class="built_in">..</span>U<span class="subst">+</span><span class="number">0E59</span>, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span>A000<span class="built_in">..</span>U<span class="subst">+</span>A48F, U<span class="subst">+</span><span class="number">4E00</span><span class="built_in">..</span>U<span class="subst">+</span><span class="number">9</span>FBF,U<span class="subst">+</span><span class="number">3400.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">4</span>DBF, U<span class="subst">+</span><span class="number">20000.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">2</span>A6DF, U<span class="subst">+</span>F900<span class="built_in">..</span>U<span class="subst">+</span>FAFF, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">2</span>F800<span class="built_in">..</span>U<span class="subst">+</span><span class="number">2</span>FA1F, U<span class="subst">+</span><span class="number">2E80</span><span class="built_in">..</span>U<span class="subst">+</span><span class="number">2</span>EFF,U<span class="subst">+</span><span class="number">2</span>F00<span class="built_in">..</span>U<span class="subst">+</span><span class="number">2</span>FDF, U<span class="subst">+</span><span class="number">3100.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">312</span>F, U<span class="subst">+</span><span class="number">31</span>A0<span class="built_in">..</span>U<span class="subst">+</span><span class="number">31</span>BF, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">3040.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">309</span>F, U<span class="subst">+</span><span class="number">30</span>A0<span class="built_in">..</span>U<span class="subst">+</span><span class="number">30</span>FF,U<span class="subst">+</span><span class="number">31</span>F0<span class="built_in">..</span>U<span class="subst">+</span><span class="number">31</span>FF, U<span class="subst">+</span>AC00<span class="built_in">..</span>U<span class="subst">+</span>D7AF, U<span class="subst">+</span><span class="number">1100.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">11</span>FF, <span class="subst">\</span></div><div class="line">        U<span class="subst">+</span><span class="number">3130.</span><span class="built_in">.</span>U<span class="subst">+</span><span class="number">318</span>F, U<span class="subst">+</span>A000<span class="built_in">..</span>U<span class="subst">+</span>A48F,U<span class="subst">+</span>A490<span class="built_in">..</span>U<span class="subst">+</span>A4CF </div><div class="line">}</div></pre></td></tr></table></figure>

<p>跟新下索引效果非常明显，即使 佛 陶 园艺 馆 店 理 限公司 这样分割的非常明显的词也能准确的搜索到相应的酒店。</p>
<p>最后附上我之前给内部做分享的一个 <a href="http://sou.la/blog/usr/uploads/2014/11/2146981545.pdf" target="_blank" rel="external">PPT</a>。</p>
<hr>
<ul>
<li>2014-11-06 11:03:00 C</li>
<li>2014-11-12 10:01:55 U</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.sou.la/2014/11/06/sphinx-1ngram/" data-id="69pmj6l5fbqdyt09" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sphinx/">sphinx</a></li></ul>

    </footer>
  </div>
  
</article>


  
  
</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C#</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/architecture/">architecture</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/computer-graphics/">computer graphics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css3/">css3</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/log/">log</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/">node.js</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pdo/">pdo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/">php</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sphinx/">sphinx</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C/" style="font-size: 10.00px;">C#</a><a href="/tags/architecture/" style="font-size: 10.00px;">architecture</a><a href="/tags/computer-graphics/" style="font-size: 10.00px;">computer graphics</a><a href="/tags/css3/" style="font-size: 10.00px;">css3</a><a href="/tags/java/" style="font-size: 10.00px;">java</a><a href="/tags/javascript/" style="font-size: 10.00px;">javascript</a><a href="/tags/log/" style="font-size: 16.67px;">log</a><a href="/tags/mysql/" style="font-size: 13.33px;">mysql</a><a href="/tags/nodejs/" style="font-size: 10.00px;">node.js</a><a href="/tags/pdo/" style="font-size: 10.00px;">pdo</a><a href="/tags/php/" style="font-size: 20.00px;">php</a><a href="/tags/sphinx/" style="font-size: 10.00px;">sphinx</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12">December 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11">November 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10">October 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08">August 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07">July 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06">June 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03">March 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12">December 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11">November 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07">July 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/04">April 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/03">March 2012</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2014/12/31/log-20141231/">2014 - 2015</a>
          </li>
        
          <li>
            <a href="/2014/12/04/recovery-data-from-binlog/">从 MySQL binlog 中找回指定的数据</a>
          </li>
        
          <li>
            <a href="/2014/11/27/svn-auto-push/">(no title)</a>
          </li>
        
          <li>
            <a href="/2014/11/27/how-to-build-your-first-php's-extension/">(no title)</a>
          </li>
        
          <li>
            <a href="/2014/11/10/sexy_template/">谈谈 SexyTemplate</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 QPWOEIRU96<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="https://github.com/qpwoeiru96" class="mobile-nav-link">Github</a>
  
    <a href="http://weibo.com/qpwoeiru96" class="mobile-nav-link">Weibo</a>
  
</nav>
    

<script src="//libs.useso.com/js/jquery/2.1.1/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>